{"ast":null,"code":"import _classCallCheck from\"/home/moe/Development/whack-a-bebsi/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/moe/Development/whack-a-bebsi/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _createSuper from\"/home/moe/Development/whack-a-bebsi/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/home/moe/Development/whack-a-bebsi/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import Hole from\"./Hole\";import Timer from\"./Timer\";import{connect}from\"react-redux\";import{timer as _timer}from\"./redux/actions\";import{getScore as _getScore,setHighscore as _setHighscore}from\"./redux/actions\";import{Link,Redirect}from\"react-router-dom\";import Sound from\"react-sound\";var Board=/*#__PURE__*/function(_Component){_inherits(Board,_Component);var _super=_createSuper(Board);function Board(){var _this;_classCallCheck(this,Board);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={time:0,cycle:true,mapping:[],highscore:0};_this.componentDidMount=function(){_this.setState({mapping:_this.mapping(_this.props.size)});_this.interval=setInterval(function(){return _this.setState({cycle:!_this.state.cycle,mapping:_this.mapping(_this.props.size)});},9000*_this.props.speed);};_this.componentWillUnmount=function(){if(_this.props.score>_this.props.highscore){_this.props.setHighscore(_this.props.score);}clearInterval(_this.interval);};_this.randomNum=function(size){return Math.floor(Math.random()*(size*size));};_this.reset=function(){_this.props.timer(60);_this.props.getScore(-_this.props.score);};_this.mapping=function(size){var board=[],randNum=_this.randomNum(size),count=0;for(var j=0;j<size;j++){var arr=[];for(var i=0;i<size;i++){arr.push(/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(\"div\",{className:\"text-center\"},/*#__PURE__*/React.createElement(Hole,{key:_this.props.speed,show:count===randNum?true:false}))));count++;}board.push(/*#__PURE__*/React.createElement(\"div\",{className:\"row mt-2\"},arr));}return board;};return _this;}_createClass(Board,[{key:\"render\",value:function render(){var _this2=this;if(this.props.time>0){return/*#__PURE__*/React.createElement(\"div\",{className:\"container-fluid\"},/*#__PURE__*/React.createElement(\"div\",{className:\"fixed-top text-left\"},/*#__PURE__*/React.createElement(\"br\",null),\"\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\",\" \",/*#__PURE__*/React.createElement(\"font\",{size:\"7\",color:\"white\"},\"Score: \",this.props.score),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(Timer,null)),/*#__PURE__*/React.createElement(Sound,{url:\"https://raw.githubusercontent.com/Nerobeats/guac-a-mole/master/src/assets/pepsi_man.mp3\",playStatus:Sound.status.PLAYING,onLoading:this.handleSongLoading,onPlaying:this.handleSongPlaying,onFinishedPlaying:this.handleSongFinishedPlaying,volume:70}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"div\",{className:\"card border-0\"},/*#__PURE__*/React.createElement(Link,{to:\"/\",className:\"btn btn-outline-light btn-lg btn-home\",onClick:function onClick(){return _this2.reset();}},/*#__PURE__*/React.createElement(\"font\",{size:\"5\"},\"Home\"))),\"\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\",/*#__PURE__*/React.createElement(\"div\",{className:\"container mapping\"},this.state.mapping));}else{return/*#__PURE__*/React.createElement(Redirect,{to:{pathname:\"/gameover/\",state:{score2:this.props.score,highscore2:this.props.highscore}}});}}}]);return Board;}(Component);var mapStateToProps=function mapStateToProps(state){return{size:state.board.size,score:state.board.score,speed:state.board.speed,time:state.board.time,highscore:state.board.highscore};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{timer:function timer(time){return dispatch(_timer(time));},getScore:function getScore(score){return dispatch(_getScore(score));},setHighscore:function setHighscore(highscore){return dispatch(_setHighscore(highscore));}};};export default connect(mapStateToProps,mapDispatchToProps)(Board);","map":{"version":3,"sources":["/home/moe/Development/whack-a-bebsi/src/Board.js"],"names":["React","Component","Hole","Timer","connect","timer","getScore","setHighscore","Link","Redirect","Sound","Board","state","time","cycle","mapping","highscore","componentDidMount","setState","props","size","interval","setInterval","speed","componentWillUnmount","score","clearInterval","randomNum","Math","floor","random","reset","board","randNum","count","j","arr","i","push","status","PLAYING","handleSongLoading","handleSongPlaying","handleSongFinishedPlaying","pathname","score2","highscore2","mapStateToProps","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Hole from \"./Hole\";\nimport Timer from \"./Timer\";\nimport { connect } from \"react-redux\";\nimport { timer } from \"./redux/actions\";\nimport { getScore, setHighscore } from \"./redux/actions\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport Sound from \"react-sound\";\n\nclass Board extends Component {\n  state = {\n    time: 0,\n    cycle: true,\n    mapping: [],\n    highscore: 0\n  };\n\n  componentDidMount = () => {\n    this.setState({ mapping: this.mapping(this.props.size) });\n    this.interval = setInterval(\n      () =>\n        this.setState({\n          cycle: !this.state.cycle,\n          mapping: this.mapping(this.props.size)\n        }),\n      9000 * this.props.speed\n    );\n  };\n\n  componentWillUnmount = () => {\n    if (this.props.score > this.props.highscore) {\n      this.props.setHighscore(this.props.score);\n    }\n    clearInterval(this.interval);\n  };\n\n  randomNum = size => {\n    return Math.floor(Math.random() * (size * size));\n  };\n\n  reset = () => {\n    this.props.timer(60);\n    this.props.getScore(-this.props.score);\n  };\n\n  mapping = size => {\n    let board = [],\n      randNum = this.randomNum(size),\n      count = 0;\n    for (let j = 0; j < size; j++) {\n      let arr = [];\n      for (let i = 0; i < size; i++) {\n        arr.push(\n          <div className=\"col\">\n            <div className=\"text-center\">\n              <Hole\n                key={this.props.speed}\n                show={count === randNum ? true : false}\n              />\n            </div>\n          </div>\n        );\n        count++;\n      }\n      board.push(<div className=\"row mt-2\">{arr}</div>);\n    }\n    return board;\n  };\n  render() {\n    if (this.props.time > 0) {\n      return (\n        <div className=\"container-fluid\">\n          <div className=\"fixed-top text-left\">\n            <br />\n            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\" \"}\n            <font size=\"7\" color=\"white\">\n              Score: {this.props.score}\n            </font>\n            <br></br>\n            <Timer />\n          </div>\n          <Sound\n            url=\"https://raw.githubusercontent.com/Nerobeats/guac-a-mole/master/src/assets/pepsi_man.mp3\"\n            playStatus={Sound.status.PLAYING}\n            onLoading={this.handleSongLoading}\n            onPlaying={this.handleSongPlaying}\n            onFinishedPlaying={this.handleSongFinishedPlaying}\n            volume={70}\n          />\n          <br />\n          <div className=\"card border-0\">\n            <Link\n              to=\"/\"\n              className=\"btn btn-outline-light btn-lg btn-home\"\n              onClick={() => this.reset()}\n            >\n              <font size=\"5\">Home</font>\n            </Link>\n          </div>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n          <div className=\"container mapping\">{this.state.mapping}</div>\n        </div>\n      );\n    } else {\n      return (\n        <Redirect\n          to={{\n            pathname: \"/gameover/\",\n            state: {\n              score2: this.props.score,\n              highscore2: this.props.highscore\n            }\n          }}\n        />\n      );\n    }\n  }\n}\nconst mapStateToProps = state => {\n  return {\n    size: state.board.size,\n    score: state.board.score,\n    speed: state.board.speed,\n    time: state.board.time,\n    highscore: state.board.highscore\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    timer: time => dispatch(timer(time)),\n    getScore: score => dispatch(getScore(score)),\n    setHighscore: highscore => dispatch(setHighscore(highscore))\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Board);\n"]},"metadata":{},"sourceType":"module"}